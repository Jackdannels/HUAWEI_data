import pandas as pd
import scipy.stats as stats

# 创建一个包含水肿变化数据和水肿减少量数据的数据框
data = pd.DataFrame({
    'Treatment1': [
0,
0,
1,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
1,
0,
0,
1,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0],  # 50个数据，依次填充
    'Treatment2': [
1,
1,
0,
1,
0,
1,
1,
1,
1,
1,
1,
1,
1,
0,
1,
1,
0,
1,
1,
1,
1,
1,
1,
0,
1,
0,
0,
1,
1,
1,
1,
1,
1,
0,
1,
1,
1,
1,
0,
1,
1,
1,
1,
0,
0,
1,
0,
1,
1,
1],  # 50个数据，依次填充
    'Treatment3': [
1,
1,
0,
0,
0,
0,
1,
1,
0,
0,
1,
1,
1,
1,
1,
1,
0,
1,
1,
1,
1,
1,
1,
0,
1,
1,
0,
1,
0,
0,
1,
1,
1,
0,
1,
1,
0,
1,
0,
1,
1,
1,
1,
1,
1,
1,
1,
0,
0,
1],  # 50个数据，依次填充
    'Treatment4': [
        1,
        0,
        1,
        1,
        1,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        1,
        1,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
    ],  # 50个数据，依次填充
    'Treatment5': [0,
0,
0,
1,
1,
1,
0,
0,
0,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
0,
0,
1,
0,
1,
0,
0,
0,],  # 50个数据，依次填充
    'Treatment6': [0,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
1,
0,
1,
1,
1,
1,
1,
1,],  # 50个数据，依次填充
    'Treatment7': [
        0,
        1,
        1,
        1,
        1,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        1,
        1,
        1,
        0,
        1,
        1,
    ],  # 50个数据，依次填充
    'WaterRetention': [
-16987,
-34494,
-72773,
-15272,
-5067,
-7940,
-9558,
-160,
-12537,
-9317,
-15091,
-38512,
-306,
-939,
-9961,
-2434,
-12324,
-5215,
-3766,
-16801,
-7036,
-6424,
-7847,
-7207,
-8514,
-29851,
-6431,
-3093,
-301,
-7264,
-6277,
-3399,
-35008,
-837,
-398,
-24827,
-1678,
-7667,
-5720,
-8911,
-22640,
-4176,
-7837,
-899,
-23456,
-21772,
-23821,
-693,
-118,
-4148
]  # 50个水肿减少量数据，依次填充
})

# 遍历每种治疗方法
treatment_columns = ['Treatment1', 'Treatment2', 'Treatment3', 'Treatment4', 'Treatment5', 'Treatment6', 'Treatment7']

for treatment in treatment_columns:
    # 选择要比较的数据
    treatment_data = data[treatment]  # 这里选择了当前治疗方法的数据
    water_retention_data = data['WaterRetention']  # 对应的水肿减少量数据

    # 执行单因素方差分析
    f_statistic, p_value = stats.f_oneway(treatment_data, water_retention_data)

    # 输出结果
    print(f"治疗方法 {treatment}:")
    print("F统计量:", f_statistic)
    print("p值:", p_value)

    # 根据p值判断是否存在显著差异
    alpha = 0.05  # 显著性水平
    if p_value < alpha:
        print("存在显著差异，治疗方法效果不同。")
    else:
        print("没有足够的证据表明治疗方法之间存在显著差异。")

    print("\n")
